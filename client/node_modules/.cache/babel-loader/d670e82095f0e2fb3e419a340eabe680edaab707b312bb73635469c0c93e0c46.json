{"ast":null,"code":"var _jsxFileName = \"/Users/queen/Downloads/Budget Tracker/client/src/components/Dashboard/popups/addExpense.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { addExpense } from \"../../../data/meApi\";\nimport \"../../../styles/frndPop.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddExpense({\n  onClose\n}) {\n  _s();\n  var _cats$;\n  const cats = useSelector(s => s.me.categories);\n  const [form, setForm] = useState({\n    description: \"\",\n    amount: \"\",\n    paidBy: \"\",\n    splitWith: \"\",\n    category: ((_cats$ = cats[0]) === null || _cats$ === void 0 ? void 0 : _cats$.name) || \"Other\",\n    date: new Date().toISOString().slice(0, 10)\n  });\n  const [msg, setMsg] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const onChange = e => setForm({\n    ...form,\n    [e.target.id]: e.target.value\n  });\n  const submit = async () => {\n    setMsg(\"\");\n    if (!form.description || !form.amount || !form.paidBy) {\n      setMsg(\"Please fill description, amount and paidBy\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const participants = String(form.splitWith || \"\").split(/[,\\s]+/).map(s => s.trim()).filter(Boolean);\n      const paidToList = participants.filter(x => x && x.toLowerCase() !== String(form.paidBy || \"\").toLowerCase()).join(\", \");\n      await addExpense({\n        description: form.description,\n        amount: form.amount,\n        paidBy: form.paidBy,\n        paidTo: paidToList,\n        splitWith: form.splitWith,\n        category: form.category,\n        date: form.date\n      });\n      onClose();\n    } catch (e) {\n      setMsg(\"Error adding\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-card glass\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"description\",\n          placeholder: \"Description\",\n          value: form.description,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          placeholder: \"Amount\",\n          type: \"number\",\n          value: form.amount,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"paidBy\",\n          placeholder: \"Paid by (email)\",\n          value: form.paidBy,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"splitWith\",\n          placeholder: \"Split with (emails, comma-separated)\",\n          value: form.splitWith,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"category\",\n          value: form.category,\n          onChange: onChange,\n          children: cats.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.name,\n            children: c.name\n          }, c.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"date\",\n          type: \"date\",\n          value: form.date,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: submit,\n          disabled: loading,\n          children: loading ? \"Adding…\" : \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn outline\",\n          onClick: onClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mini\",\n        style: {\n          marginTop: 8\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(AddExpense, \"R/6zkIqU38OIH3SEzRaLxXkfl84=\", false, function () {\n  return [useSelector];\n});\n_c = AddExpense;\nvar _c;\n$RefreshReg$(_c, \"AddExpense\");","map":{"version":3,"names":["React","useState","useSelector","addExpense","jsxDEV","_jsxDEV","AddExpense","onClose","_s","_cats$","cats","s","me","categories","form","setForm","description","amount","paidBy","splitWith","category","name","date","Date","toISOString","slice","msg","setMsg","loading","setLoading","onChange","e","target","id","value","submit","participants","String","split","map","trim","filter","Boolean","paidToList","x","toLowerCase","join","paidTo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","type","c","onClick","disabled","style","marginTop","_c","$RefreshReg$"],"sources":["/Users/queen/Downloads/Budget Tracker/client/src/components/Dashboard/popups/addExpense.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { addExpense } from \"../../../data/meApi\";\r\nimport \"../../../styles/frndPop.css\";\r\n\r\nexport default function AddExpense({ onClose }) {\r\n  const cats = useSelector((s) => s.me.categories);\r\n  const [form, setForm] = useState({\r\n    description: \"\",\r\n    amount: \"\",\r\n    paidBy: \"\",\r\n    splitWith: \"\",\r\n    category: cats[0]?.name || \"Other\",\r\n    date: new Date().toISOString().slice(0, 10),\r\n  });\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const onChange = (e) => setForm({ ...form, [e.target.id]: e.target.value });\r\n\r\n  const submit = async () => {\r\n    setMsg(\"\");\r\n    if (!form.description || !form.amount || !form.paidBy) {\r\n      setMsg(\"Please fill description, amount and paidBy\");\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const participants = String(form.splitWith || \"\")\r\n        .split(/[,\\s]+/)\r\n        .map((s) => s.trim())\r\n        .filter(Boolean);\r\n      const paidToList = participants\r\n        .filter(\r\n          (x) =>\r\n            x && x.toLowerCase() !== String(form.paidBy || \"\").toLowerCase()\r\n        )\r\n        .join(\", \");\r\n      await addExpense({\r\n        description: form.description,\r\n        amount: form.amount,\r\n        paidBy: form.paidBy,\r\n        paidTo: paidToList,\r\n        splitWith: form.splitWith,\r\n        category: form.category,\r\n        date: form.date,\r\n      });\r\n      onClose();\r\n    } catch (e) {\r\n      setMsg(\"Error adding\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-card glass\">\r\n        <h3>Add Expense</h3>\r\n        <div className=\"grid2\">\r\n          <input\r\n            id=\"description\"\r\n            placeholder=\"Description\"\r\n            value={form.description}\r\n            onChange={onChange}\r\n          />\r\n          <input\r\n            id=\"amount\"\r\n            placeholder=\"Amount\"\r\n            type=\"number\"\r\n            value={form.amount}\r\n            onChange={onChange}\r\n          />\r\n          <input\r\n            id=\"paidBy\"\r\n            placeholder=\"Paid by (email)\"\r\n            value={form.paidBy}\r\n            onChange={onChange}\r\n          />\r\n          <input\r\n            id=\"splitWith\"\r\n            placeholder=\"Split with (emails, comma-separated)\"\r\n            value={form.splitWith}\r\n            onChange={onChange}\r\n          />\r\n          <select id=\"category\" value={form.category} onChange={onChange}>\r\n            {cats.map((c) => (\r\n              <option key={c.name} value={c.name}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <input id=\"date\" type=\"date\" value={form.date} onChange={onChange} />\r\n        </div>\r\n        <div className=\"modal-actions\">\r\n          <button className=\"btn\" onClick={submit} disabled={loading}>\r\n            {loading ? \"Adding…\" : \"Add\"}\r\n          </button>\r\n          <button className=\"btn outline\" onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n        {msg && (\r\n          <p className=\"mini\" style={{ marginTop: 8 }}>\r\n            {msg}\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}