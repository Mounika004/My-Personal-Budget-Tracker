{"ast":null,"code":"var _jsxFileName = \"/Users/queen/Downloads/Budget Tracker/client/src/containers/AuthComponent.js\";\nimport React from 'react';\nimport { instance } from '../utils/AxiosConfig';\nimport { withRouter } from \"react-router-dom\";\nimport { userActionCreator } from \"../redux/actionCreator/userAction\";\nimport { store } from \"../redux/store\";\n// import { mathActionCreator } from '../models/actionCreators/mathactioncreator';\n// import { store } from '../models/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AuthComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: undefined\n    };\n  }\n  componentWillMount() {\n    console.log(\"first\");\n    const jwt = localStorage.getItem('jwtToken');\n    if (!jwt) {\n      this.props.history.push('/login');\n    }\n    instance.get('/getUser', {\n      headers: {\n        Authorization: `Bearer ${jwt}`\n      }\n    }).then(res => {\n      console.log(\"and here Iam\");\n      console.log(res);\n      this.state.user = res.data.userdata.doc;\n      localStorage.username = res.data.userdata.doc.username;\n      var user = res.data.userdata.doc;\n      this.setState({\n        user: user\n      });\n      var action = userActionCreator(user, 'AddUser');\n      store.dispatch(action);\n\n      //  var action = mathActionCreator(user,'+');\n      //  store.dispatch(action);\n    }).catch(err => {\n      localStorage.removeItem('jwtToken');\n      this.props.history.push('/login');\n    });\n  }\n  render() {\n    {\n      console.log(\"hello\", this.state.user);\n    }\n    if (this.state.user === undefined) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"loading..........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default _c = withRouter(AuthComponent);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","instance","withRouter","userActionCreator","store","jsxDEV","_jsxDEV","AuthComponent","Component","constructor","props","state","user","undefined","componentWillMount","console","log","jwt","localStorage","getItem","history","push","get","headers","Authorization","then","res","data","userdata","doc","username","setState","action","dispatch","catch","err","removeItem","render","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/queen/Downloads/Budget Tracker/client/src/containers/AuthComponent.js"],"sourcesContent":["import React from 'react';\r\nimport {instance} from '../utils/AxiosConfig';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {userActionCreator} from \"../redux/actionCreator/userAction\";\r\nimport { store } from \"../redux/store\";\r\n// import { mathActionCreator } from '../models/actionCreators/mathactioncreator';\r\n// import { store } from '../models/store';\r\n\r\n class AuthComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: undefined\r\n        }\r\n    }\r\n    componentWillMount (){\r\n        console.log(\"first\")\r\n     const jwt = localStorage.getItem('jwtToken');\r\n     if(!jwt){\r\n         this.props.history.push('/login');\r\n     }\r\n    \r\n     instance.get('/getUser', {headers : {Authorization: `Bearer ${jwt}`}}).then(res => {\r\n         console.log(\"and here Iam\");\r\n        console.log(res) ;\r\n        this.state.user = res.data.userdata.doc;\r\n        localStorage.username = res.data.userdata.doc.username;\r\n         var user = res.data.userdata.doc;\r\n        \r\n         this.setState({user:user});\r\n        \r\n         var action = userActionCreator(user,'AddUser');\r\n         store.dispatch(action);\r\n\r\n\r\n        //  var action = mathActionCreator(user,'+');\r\n        //  store.dispatch(action);\r\n     }).catch(err =>{\r\n         localStorage.removeItem('jwtToken');\r\n         this.props.history.push('/login');\r\n     });\r\n     \r\n    }\r\n\r\n    render(){\r\n        {console.log(\"hello\",this.state.user)}\r\n        if(this.state.user === undefined){\r\n            return(\r\n                <div>\r\n                <h1>loading..........</h1>\r\n            </div>\r\n            \r\n            )\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AuthComponent);"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,QAAQ,QAAO,sBAAsB;AAC7C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAAQC,iBAAiB,QAAO,mCAAmC;AACnE,SAASC,KAAK,QAAQ,gBAAgB;AACtC;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEC,MAAMC,aAAa,SAASP,KAAK,CAACQ,SAAS;EACxCC,WAAWA,CAACC,KAAK,EAAC;IACd,KAAK,CAACA,KAAK,CAAC;IAEZ,IAAI,CAACC,KAAK,GAAG;MACTC,IAAI,EAAEC;IACV,CAAC;EACL;EACAC,kBAAkBA,CAAA,EAAG;IACjBC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACvB,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC5C,IAAG,CAACF,GAAG,EAAC;MACJ,IAAI,CAACP,KAAK,CAACU,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IACrC;IAEApB,QAAQ,CAACqB,GAAG,CAAC,UAAU,EAAE;MAACC,OAAO,EAAG;QAACC,aAAa,EAAE,UAAUP,GAAG;MAAE;IAAC,CAAC,CAAC,CAACQ,IAAI,CAACC,GAAG,IAAI;MAC/EX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC5BD,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC;MAChB,IAAI,CAACf,KAAK,CAACC,IAAI,GAAGc,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG;MACvCX,YAAY,CAACY,QAAQ,GAAGJ,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG,CAACC,QAAQ;MACrD,IAAIlB,IAAI,GAAGc,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG;MAEhC,IAAI,CAACE,QAAQ,CAAC;QAACnB,IAAI,EAACA;MAAI,CAAC,CAAC;MAE1B,IAAIoB,MAAM,GAAG7B,iBAAiB,CAACS,IAAI,EAAC,SAAS,CAAC;MAC9CR,KAAK,CAAC6B,QAAQ,CAACD,MAAM,CAAC;;MAGvB;MACA;IACH,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,IAAG;MACXjB,YAAY,CAACkB,UAAU,CAAC,UAAU,CAAC;MACnC,IAAI,CAAC1B,KAAK,CAACU,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IACrC,CAAC,CAAC;EAEH;EAEAgB,MAAMA,CAAA,EAAE;IACJ;MAACtB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAC,IAAI,CAACL,KAAK,CAACC,IAAI,CAAC;IAAA;IACrC,IAAG,IAAI,CAACD,KAAK,CAACC,IAAI,KAAKC,SAAS,EAAC;MAC7B,oBACIP,OAAA;QAAAgC,QAAA,eACAhC,OAAA;UAAAgC,QAAA,EAAI;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC;IAGV;IAEA,oBACIpC,OAAA;MAAAgC,QAAA,EACK,IAAI,CAAC5B,KAAK,CAAC4B;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAEd;AACJ;AAEA,eAAAC,EAAA,GAAezC,UAAU,CAACK,aAAa,CAAC;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}