{"ast":null,"code":"var _jsxFileName = \"/Users/queen/Downloads/Budget Tracker/client/src/components/Dashboard/FriendList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport \"../../styles/frndPop.css\";\nimport \"../../styles/dashboard.css\";\nimport { computeFromExpenses, formatCurrency } from \"../../utils/finance\";\nimport { loadMe, settleWithFriend } from \"../../data/meApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction niceName(email, selfName) {\n  if (!email) return \"\";\n  if (selfName && email === selfName.email) return selfName.username || selfName.email;\n  const local = String(email).split(\"@\")[0];\n  return local.replace(/[._-]+/g, \" \").replace(/\\b\\w/g, m => m.toUpperCase());\n}\nfunction Avatar({\n  label\n}) {\n  const ch = (label || \"?\").trim().charAt(0).toUpperCase();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar small\",\n    children: ch\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 10\n  }, this);\n}\n_c = Avatar;\nexport default function FriendList() {\n  _s();\n  const {\n    me,\n    expenses\n  } = useSelector(s => s.me);\n  useEffect(() => {\n    loadMe();\n  }, []);\n  const {\n    perFriend\n  } = computeFromExpenses(me === null || me === void 0 ? void 0 : me.email, expenses);\n  return /*#__PURE__*/_jsxDEV(\"aside\", {\n    className: \"friend-list glass\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"friend-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: 0\n        },\n        children: \"Friends\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"mini\",\n        children: \"Balances\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), perFriend.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mini\",\n      style: {\n        padding: \"0 16px 16px\"\n      },\n      children: \"No balances yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"friend-items\",\n      children: perFriend.map(f => {\n        const label = niceName(f.friend, me);\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"friend-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"friend-left\",\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              label: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"friend-name\",\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `friend-balance ${f.value > 0 ? \"pos\" : f.value < 0 ? \"neg\" : \"\"}`,\n              children: f.value > 0 ? `+${formatCurrency(f.value)}` : f.value < 0 ? `-${formatCurrency(Math.abs(f.value))}` : formatCurrency(0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), f.value !== 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn ghost\",\n              onClick: () => settleWithFriend(f.friend, Math.abs(f.value)),\n              children: \"Settle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)]\n        }, f.friend, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(FriendList, \"HSov7ifC7IXac09jF+3n2Akhwj4=\", false, function () {\n  return [useSelector];\n});\n_c2 = FriendList;\nvar _c, _c2;\n$RefreshReg$(_c, \"Avatar\");\n$RefreshReg$(_c2, \"FriendList\");","map":{"version":3,"names":["React","useEffect","useSelector","computeFromExpenses","formatCurrency","loadMe","settleWithFriend","jsxDEV","_jsxDEV","niceName","email","selfName","username","local","String","split","replace","m","toUpperCase","Avatar","label","ch","trim","charAt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","FriendList","_s","me","expenses","s","perFriend","style","margin","length","padding","map","f","friend","display","alignItems","gap","value","Math","abs","onClick","_c2","$RefreshReg$"],"sources":["/Users/queen/Downloads/Budget Tracker/client/src/components/Dashboard/FriendList.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"../../styles/frndPop.css\";\r\nimport \"../../styles/dashboard.css\";\r\nimport { computeFromExpenses, formatCurrency } from \"../../utils/finance\";\r\nimport { loadMe, settleWithFriend } from \"../../data/meApi\";\r\n\r\nfunction niceName(email, selfName) {\r\n  if (!email) return \"\";\r\n  if (selfName && email === selfName.email)\r\n    return selfName.username || selfName.email;\r\n  const local = String(email).split(\"@\")[0];\r\n  return local.replace(/[._-]+/g, \" \").replace(/\\b\\w/g, (m) => m.toUpperCase());\r\n}\r\n\r\nfunction Avatar({ label }) {\r\n  const ch = (label || \"?\").trim().charAt(0).toUpperCase();\r\n  return <div className=\"avatar small\">{ch}</div>;\r\n}\r\n\r\nexport default function FriendList() {\r\n  const { me, expenses } = useSelector((s) => s.me);\r\n\r\n  useEffect(() => {\r\n    loadMe();\r\n  }, []);\r\n\r\n  const { perFriend } = computeFromExpenses(me?.email, expenses);\r\n\r\n  return (\r\n    <aside className=\"friend-list glass\">\r\n      <div className=\"friend-head\">\r\n        <h3 style={{ margin: 0 }}>Friends</h3>\r\n        <span className=\"mini\">Balances</span>\r\n      </div>\r\n\r\n      {perFriend.length === 0 ? (\r\n        <div className=\"mini\" style={{ padding: \"0 16px 16px\" }}>\r\n          No balances yet.\r\n        </div>\r\n      ) : (\r\n        <ul className=\"friend-items\">\r\n          {perFriend.map((f) => {\r\n            const label = niceName(f.friend, me);\r\n            return (\r\n              <li key={f.friend} className=\"friend-item\">\r\n                <div className=\"friend-left\">\r\n                  <Avatar label={label} />\r\n                  <div className=\"friend-name\">{label}</div>\r\n                </div>\r\n                <div style={{ display: \"flex\", alignItems: \"center\", gap: 6 }}>\r\n                  <div\r\n                    className={`friend-balance ${\r\n                      f.value > 0 ? \"pos\" : f.value < 0 ? \"neg\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {f.value > 0\r\n                      ? `+${formatCurrency(f.value)}`\r\n                      : f.value < 0\r\n                      ? `-${formatCurrency(Math.abs(f.value))}`\r\n                      : formatCurrency(0)}\r\n                  </div>\r\n                  {f.value !== 0 && (\r\n                    <button\r\n                      className=\"btn ghost\"\r\n                      onClick={() =>\r\n                        settleWithFriend(f.friend, Math.abs(f.value))\r\n                      }\r\n                    >\r\n                      Settle\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}