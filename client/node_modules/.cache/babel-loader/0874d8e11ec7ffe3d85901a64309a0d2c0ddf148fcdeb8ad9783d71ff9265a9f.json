{"ast":null,"code":"import React from'react';import{instance}from'../utils/AxiosConfig';import{withRouter}from\"react-router-dom\";import{userActionCreator}from\"../redux/actionCreator/userAction\";import{store}from\"../redux/store\";// import { mathActionCreator } from '../models/actionCreators/mathactioncreator';\n// import { store } from '../models/store';\nimport{jsx as _jsx}from\"react/jsx-runtime\";class AuthComponent extends React.Component{constructor(props){super(props);this.state={user:undefined};}componentWillMount(){console.log(\"first\");const jwt=localStorage.getItem('jwtToken');if(!jwt){this.props.history.push('/login');}instance.get('/getUser',{headers:{Authorization:\"Bearer \".concat(jwt)}}).then(res=>{console.log(\"and here Iam\");console.log(res);this.state.user=res.data.userdata.doc;localStorage.username=res.data.userdata.doc.username;var user=res.data.userdata.doc;this.setState({user:user});var action=userActionCreator(user,'AddUser');store.dispatch(action);//  var action = mathActionCreator(user,'+');\n//  store.dispatch(action);\n}).catch(err=>{localStorage.removeItem('jwtToken');this.props.history.push('/login');});}render(){{console.log(\"hello\",this.state.user);}if(this.state.user===undefined){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"loading..........\"})});}return/*#__PURE__*/_jsx(\"div\",{children:this.props.children});}}export default withRouter(AuthComponent);","map":{"version":3,"names":["React","instance","withRouter","userActionCreator","store","jsx","_jsx","AuthComponent","Component","constructor","props","state","user","undefined","componentWillMount","console","log","jwt","localStorage","getItem","history","push","get","headers","Authorization","concat","then","res","data","userdata","doc","username","setState","action","dispatch","catch","err","removeItem","render","children"],"sources":["/Users/queen/Downloads/Budget Tracker/client/src/containers/AuthComponent.js"],"sourcesContent":["import React from 'react';\r\nimport {instance} from '../utils/AxiosConfig';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {userActionCreator} from \"../redux/actionCreator/userAction\";\r\nimport { store } from \"../redux/store\";\r\n// import { mathActionCreator } from '../models/actionCreators/mathactioncreator';\r\n// import { store } from '../models/store';\r\n\r\n class AuthComponent extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: undefined\r\n        }\r\n    }\r\n    componentWillMount (){\r\n        console.log(\"first\")\r\n     const jwt = localStorage.getItem('jwtToken');\r\n     if(!jwt){\r\n         this.props.history.push('/login');\r\n     }\r\n    \r\n     instance.get('/getUser', {headers : {Authorization: `Bearer ${jwt}`}}).then(res => {\r\n         console.log(\"and here Iam\");\r\n        console.log(res) ;\r\n        this.state.user = res.data.userdata.doc;\r\n        localStorage.username = res.data.userdata.doc.username;\r\n         var user = res.data.userdata.doc;\r\n        \r\n         this.setState({user:user});\r\n        \r\n         var action = userActionCreator(user,'AddUser');\r\n         store.dispatch(action);\r\n\r\n\r\n        //  var action = mathActionCreator(user,'+');\r\n        //  store.dispatch(action);\r\n     }).catch(err =>{\r\n         localStorage.removeItem('jwtToken');\r\n         this.props.history.push('/login');\r\n     });\r\n     \r\n    }\r\n\r\n    render(){\r\n        {console.log(\"hello\",this.state.user)}\r\n        if(this.state.user === undefined){\r\n            return(\r\n                <div>\r\n                <h1>loading..........</h1>\r\n            </div>\r\n            \r\n            )\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(AuthComponent);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAAQC,QAAQ,KAAO,sBAAsB,CAC7C,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAAQC,iBAAiB,KAAO,mCAAmC,CACnE,OAASC,KAAK,KAAQ,gBAAgB,CACtC;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAEC,KAAM,CAAAC,aAAa,QAAS,CAAAP,KAAK,CAACQ,SAAS,CACxCC,WAAWA,CAACC,KAAK,CAAC,CACd,KAAK,CAACA,KAAK,CAAC,CAEZ,IAAI,CAACC,KAAK,CAAG,CACTC,IAAI,CAAEC,SACV,CAAC,CACL,CACAC,kBAAkBA,CAAA,CAAG,CACjBC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CACvB,KAAM,CAAAC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC5C,GAAG,CAACF,GAAG,CAAC,CACJ,IAAI,CAACP,KAAK,CAACU,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,CACrC,CAEApB,QAAQ,CAACqB,GAAG,CAAC,UAAU,CAAE,CAACC,OAAO,CAAG,CAACC,aAAa,WAAAC,MAAA,CAAYR,GAAG,CAAE,CAAC,CAAC,CAAC,CAACS,IAAI,CAACC,GAAG,EAAI,CAC/EZ,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC5BD,OAAO,CAACC,GAAG,CAACW,GAAG,CAAC,CAChB,IAAI,CAAChB,KAAK,CAACC,IAAI,CAAGe,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG,CACvCZ,YAAY,CAACa,QAAQ,CAAGJ,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG,CAACC,QAAQ,CACrD,GAAI,CAAAnB,IAAI,CAAGe,GAAG,CAACC,IAAI,CAACC,QAAQ,CAACC,GAAG,CAEhC,IAAI,CAACE,QAAQ,CAAC,CAACpB,IAAI,CAACA,IAAI,CAAC,CAAC,CAE1B,GAAI,CAAAqB,MAAM,CAAG9B,iBAAiB,CAACS,IAAI,CAAC,SAAS,CAAC,CAC9CR,KAAK,CAAC8B,QAAQ,CAACD,MAAM,CAAC,CAGvB;AACA;AACH,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,EAAG,CACXlB,YAAY,CAACmB,UAAU,CAAC,UAAU,CAAC,CACnC,IAAI,CAAC3B,KAAK,CAACU,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC,CACrC,CAAC,CAAC,CAEH,CAEAiB,MAAMA,CAAA,CAAE,CACJ,CAACvB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,IAAI,CAACL,KAAK,CAACC,IAAI,CAAC,EACrC,GAAG,IAAI,CAACD,KAAK,CAACC,IAAI,GAAKC,SAAS,CAAC,CAC7B,mBACIP,IAAA,QAAAiC,QAAA,cACAjC,IAAA,OAAAiC,QAAA,CAAI,mBAAiB,CAAI,CAAC,CACzB,CAAC,CAGV,CAEA,mBACIjC,IAAA,QAAAiC,QAAA,CACK,IAAI,CAAC7B,KAAK,CAAC6B,QAAQ,CACnB,CAAC,CAEd,CACJ,CAEA,cAAe,CAAArC,UAAU,CAACK,aAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}